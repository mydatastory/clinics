install.packages("dplyr")
sen <- read.csv("data/senate_state_stage.csv")
setwd("C:/Users/drewc/Documents/GitHub/stories")
library(dplyr)
setwd("C:/Users/drewc/Documents/GitHub/stories")
sen <- read.csv("data/senate_state_stage.csv")
sen <- sen %>%
group_by(State, Party)
sen <- sen %>%
group_by(State, Party) %>%
summarise(Votes)
sen <- read.csv("data/senate_state_stage.csv")
sen <- sen %>%
group_by(State, Party) %>%
summarise(Votes)
## Code Prep
library(dplyr)
setwd("C:/Users/drewc/Documents/GitHub/stories")
sen <- read.csv("data/senate_state_stage.csv")
pres <- read.csv("data/president_state_stage.csv")
bind = rbind.fill(sen, pres)
library(plyr)
bind = rbind.fill(sen, pres)
group <- bind %>%
group_by(Year, State, Party) %>%
summarise(Votes)
vote <- as.data.frame(group)
bind = rbind.fill(sen, pres)
group = bind %>%
group_by(Year, State, Party) %>%
summarise(Votes)
vote = as.data.frame(group)
head(vote)
group = bind %>%
group_by(State, Party) %>%
summarise(Votes)
vote = as.data.frame(group)
head(vote)
group = bind %>%
group_by(Year, Party) %>%
summarise(Votes)
vote = as.data.frame(group)
head(vote)
bind = rbind.fill(sen, pres)
head(bind)
group = bind %>%
group_by(Year) %>%
summarise(Votes)
vote = as.data.frame(group)
head(bind)
group = bind %>%
group_by(Year, State) %>%
summarise(Votes)
vote = as.data.frame(group)
head(group)
group = bind %>%
group_by(Year) %>%
summarise(Votes)
source('~/GitHub/stories/_vote/vote_join_code.R', echo=TRUE)
vote = as.data.frame(group)
head(group)
vote = rbind.fill(sen, pres)
library(tidyr)
install.packages("tidyr")
long = rbind.fill(sen, pres)
wide <- spread(long, Party, Votes)
library(tidyr)
wide <- spread(long, Party, Votes)
long = rbind.fill(sen, pres)
info(long)
head(long)
wide <- spread(long, Party, Votes)
head(wide)
senw = spread(sen, Party, Votes)
sen <- read.csv("data/senate_state_stage.csv")
senw = spread(sen, Party, Votes)
senw = spread(sen, Party, Votes)
presw = spread(pres, Party, Votes)
presw = spread(pres, Party, Votes)
pres <- read.csv("data/president_state_stage.csv")
presw = spread(pres, Party, Votes)
pres <- read.csv("data/president_state_stage.csv")
presw = spread(pres, Party, Votes)
head(presw)
pres <- read.csv("data/president_state_stage.csv")
## Convert from Long to Wide
presw = spread(pres, Party, Votes)
head(presw)
senw = spread(sen, Party, Votes)
sen <- read.csv("data/senate_state_stage.csv")
senw = spread(sen, Party, Votes)
sen <- read.csv("data/senate_state_stage.csv")
senw = spread(sen, Party, Votes)
sen <- read.csv("data/senate_state_stage.csv")
pres <- read.csv("data/president_state_stage.csv")
presw = spread(pres, Party, Votes)
senw = spread(sen, Party, Votes)
sen <- read.csv("data/senate_state_stage.csv")
senw = spread(sen, Party, Votes)
senw = spread(sen, Party, Votes)
sen <- read.csv("data/senate_state_stage.csv")
senw = spread(sen, Party, Votes)
source('~/GitHub/stories/_vote/vote_join_code.R', echo=TRUE)
sen <- read.csv("data/senate_state_stage.csv")
senw = spread(sen, Party, Votes)
presw = spread(pres, Party, Votes)
pres <- read.csv("data/president_state_stage.csv")
presw = spread(pres, Party, Votes)
senw = spread(sen, Party, Votes)
sen <- read.csv("data/senate_state_stage.csv")
senw = spread(sen, Party, Votes)
pres <- read.csv("data/president_state_stage.csv")
presw = spread(pres, Party, Votes)
sen <- read.csv("data/senate_state_stage.csv")
senw = spread(sen, Party, Votes)
head(senw)
vote = rbind.fill(senw, presw)
head(vote)
sen <- read.csv("data/senate_state_stage.csv")
senw = spread(sen, Party, Votes)
head(senw)
sen <- read.csv("data/senate_state_stage.csv")
senw = spread(sen, Party, Votes)
head(senw)
sen <- read.csv("data/senate_state_stage.csv")
senw = spread(sen, Party, Votes)
sen <- read.csv("data/senate_state_stage.csv")
senw = spread(sen, Party, Votes)
head(senw)
vote = rbind.fill(senw, presw)
head(senw)
join = inner_join(sen, pres, by = "State")
head(senw)
sen <- read.csv("data/senate_state_stage.csv")
senw = spread(sen, Party, Votes)
presw = spread(pres, Party, Votes)
pres <- read.csv("data/president_state_stage.csv")
sen = sen %>%
group_by(Year, State) %>%
summarise(Votes)
senw = spread(sen, Party, Votes)
sen = as.data.frame(sen)                      # Convert tibble to dataframe.
sen = as.data.frame(sen)
senw = spread(sen, Party, Votes)
sen
sen = sen %>%
group_by(Year) %>%
summarise(Votes)
sen = as.data.frame(sen)
head(sen)
sen = sen %>%
group_by(Year, State, Party) %>%
summarise(Votes)
sen <- read.csv("data/senate_state_stage.csv")
seng = sen %>%
group_by(Year, State, Party) %>%
summarise(Votes)
head(seng)
seng = sen %>%
group_by(Year, State, Party) %>%
summarise(Votes)
send = as.data.frame(seng)
head(send)
seng = sen %>%
group_by(Year, State, Party) %>%
summarise(sum(Votes))
send = as.data.frame(seng)
head(send)
seng = sen %>%
group_by(Year, State) %>%
summarise(sum(Votes))
send = as.data.frame(seng)
seng = sen %>%
group_by(Year, State) %>%
summarise(sum(Votes))
send = as.data.frame(seng)
head(send)
seng = sen %>%
group_by(Year) %>%
summarise(sum(Votes))
send = as.data.frame(seng)
head(send)
seng = sen %>%
group_by(Year, State, Party) %>%
summarise(sum(Votes))
send = as.data.frame(seng)
View(send)
sen = read.csv("data/senate_state_stage.csv")
seng = sen %>%
group_by(Year, State, Party) %>%
summarise(sum(Votes))
send = as.data.frame(seng)
head(send)
sen = read.csv("data/senate_state_stage.csv")
seng = sen %>%
group_by(Year, State, Party) %>%
summarise(sum(Votes))
send = as.data.frame(seng)
head(send)
seng = sen %>%
group_by(Party, State, Year) %>%
summarise(sum(Votes))
send = as.data.frame(seng)
head(send)
seng = sen %>%
group_by(Party) %>%
summarise(sum(Votes))
send = as.data.frame(seng)
head(send)
sen = read.csv("data/senate_state_stage.csv")
seng = sen %>%
group_by(Party) %>%
summarise(sum(Votes))
send = as.data.frame(seng)
head(send)
head(sen)
seng = sen %>%
group_by(Year, State, Party) %>%
summarise(sum(Votes))
seng = sen %>%
group_by(Year, State, Party) %>%
summarise(sum(Votes))
seng <- sen %>%
group_by(Year, State, Party) %>%
summarise(sum(Votes))
send = as.data.frame(seng)
head(send)
head(sen)
send
seng
sen %>%
group_by(Year, State, Party) %>%
summarise(sum(Votes))
seng = sen %>%
group_by(Year, State, Party) %>%
summarise(sum(Votes))
send = as.data.frame(seng)
send
sen = read.csv("data/senate_state_stage.csv")
seng = sen %>%
group_by(Year, State, Party) %>%
summarise(sum(Votes))
send = as.data.frame(seng)
send
seng = sen %>%
group_by(Year, State, Party) %>%
summarise(Votes)
send = as.data.frame(seng)
send
head(send)
seng = sen %>%
group_by(Year, State, Party) %>%
summarise(Votes)
send = as.data.frame(seng)
head(send)
seng = sen %>%
group_by(Year) %>%
summarise(Votes)
send = as.data.frame(seng)
head(send)
seng = sen %>%
group_by(Party, State, Year) %>%
summarise(Votes)
send = as.data.frame(seng)
head(send)
seng = sen %>%
group_by(Party, State, Year) %>%
sum(Votes)
seng = sen %>%
group_by(Year, State, Party) %>%
summarise(sum(Votes))
head(seng)
seng = sen %>%
group_by(Year, State, Party) %>%
summarise(sum(Votes))
send = as.data.frame(seng)
head(seng)
head(seng)
send = as.data.frame(seng)
library(tibble)
library(dplyr)
setwd("C:/Users/drewc/Downloads")
Social <- read.csv("ACS_17_5YR_DP02_with_ann.csv")
Economic <- read.csv("ACS_17_5YR_DP03_with_ann.csv")
Housing <- read.csv("ACS_17_5YR_DP04_with_ann.csv")
Demographic <- read.csv("ACS_17_5YR_DP05_with_ann.csv")
se = inner_join(Social, Economic, by = "GEO.display-label")
seh = inner_join(se, Housing, by = "GEO.display-label")
acs = inner_join(seh, Demographic, by = "GEO.display-label")
write.csv(acs, "C:/Users/drewc/Documents/GitHub/stories/data/acs_data_raw.csv")
---
title: "American Community Survey"
author: "Andrew Cistola"
date: "June 17, 2019"
output: html_document
---
library(tibble)
library(dplyr)
setwd("C:/Users/drewc/Downloads")
Social <- read.csv("ACS_16_5YR_DP02_with_ann.csv")
Economic <- read.csv("ACS_16_5YR_DP03_with_ann.csv")
Housing <- read.csv("ACS_16_5YR_DP04_with_ann.csv")
Demographic <- read.csv("ACS_16_5YR_DP05_with_ann.csv")
se = inner_join(Social, Economic, by = "GEO.display-label")
seh = inner_join(se, Housing, by = "GEO.display-label")
acs = inner_join(seh, Demographic, by = "GEO.display-label")
write.csv(acs, "C:/Users/drewc/Documents/GitHub/stories/data/acs_data_raw.csv")
se = inner_join(Social, Economic, by = "GEO.id")
se = inner_join(Social, Economic, by = "GEO.id")
seh = inner_join(se, Housing, by = "GEO.id")
acs = inner_join(seh, Demographic, by = "GEO.id")
write.csv(acs, "C:/Users/drewc/Documents/GitHub/stories/data/acs_data_raw.csv")
## Code Prep
setwd("C:/Users/drewc/Documents/GitHub/stories")
library(dplyr)
## Join Datasets
a <- read.csv("data/acs_data_raw.csv")
b <- read.csv("data/trump_data_stage.csv")
join = inner_join(a, b, by = "State")
write.csv(join, "data/vote_rf_stage.csv") #clean in excel
join = inner_join(a, b, by = "State")
write.csv(join, "data/vote_rf_stage.csv")
a <- read.csv("data/acs_data_stage.csv")
b <- read.csv("data/trump_data_stage.csv")
join = inner_join(a, b, by = "State")
write.csv(join, "data/vote_rf_stage.csv") #clean in excel
rf = join
rf$Geo.Id <- NULL
rf = rf %>% mutate_if(is.factor, as.numeric)
rpint(rf)
print(rf)
head(rf)
of = randomForest(formula = D ~ ., data = rf, ntree = 1000, importance=TRUE)
library(plyr)
library(dplyr)
library(randomForest)
library(MASS)
library(tibble)
of = randomForest(formula = D ~ ., data = rf, ntree = 1000, importance=TRUE)
rank = importance(of)
print(rank)
write.csv(rank, "data/vote_rf_results.csv")
write.csv(rank, "data/vote_rf_D.csv")
ofR = randomForest(formula = R ~ ., data = rf, ntree = 1000, importance=TRUE)
rankR = importance(ofR)
write.csv(rankR, "data/vote_rf_R.csv")
fit = join %>% select ("Percent..GROSS.RENT...Occupied.units.paying.rent....1.500.to..1.999",
"Percent..GROSS.RENT...Occupied.units.paying.rent....3.000.or.more",
"Percent..GROSS.RENT.AS.A.PERCENTAGE.OF.HOUSEHOLD.INCOME..GRAPI....Occupied.units.paying.rent..excluding.units.where.GRAPI.cannot.be.computed....Less.than.15.0.percent",
"Percent..HISPANIC.OR.LATINO.AND.RACE...Total.population...Not.Hispanic.or.Latino...Asian.alone	Percent..HOUSEHOLDS.BY.TYPE...Total.households...Family.households..families....Male.householder..no.wife.present..family	Percent..HOUSEHOLDS.BY.TYPE...Total.households...Nonfamily.households...Householder.living.alone...65.years.and.over",
"Percent..HOUSING.OCCUPANCY...Total.housing.units...Occupied.housing.units",
"Percent..LANGUAGE.SPOKEN.AT.HOME...Population.5.years.and.over...Asian.and.Pacific.Islander.languages...Speak.English.less.than..very.well.",
"Percent..LANGUAGE.SPOKEN.AT.HOME...Population.5.years.and.over...Other.Indo.European.languages	Percent..PLACE.OF.BIRTH...Total.population...Foreign.born	Percent..PLACE.OF.BIRTH...Total.population...Native",
"Percent..RACE...One.race...Asian...Chinese",
"Percent..RESIDENCE.1.YEAR.AGO...Population.1.year.and.over...Different.house.in.the.U.S....Different.county...Different.state",
"Percent..SELECTED.MONTHLY.OWNER.COSTS.AS.A.PERCENTAGE.OF.HOUSEHOLD.INCOME..SMOCAPI....Housing.units.with.a.mortgage..excluding.units.where.SMOCAPI.cannot.be.computed....Less.than.20.0.percent")
fit = join %>% select (Percent..GROSS.RENT...Occupied.units.paying.rent....1.500.to..1.999,
Percent..GROSS.RENT...Occupied.units.paying.rent....3.000.or.more,
Percent..GROSS.RENT.AS.A.PERCENTAGE.OF.HOUSEHOLD.INCOME..GRAPI....Occupied.units.paying.rent..excluding.units.where.GRAPI.cannot.be.computed....Less.than.15.0.percent,
Percent..HISPANIC.OR.LATINO.AND.RACE...Total.population...Not.Hispanic.or.Latino...Asian.alone,
Percent..HOUSEHOLDS.BY.TYPE...Total.households...Family.households..families....Male.householder..no.wife.present..family,
Percent..HOUSEHOLDS.BY.TYPE...Total.households...Nonfamily.households...Householder.living.alone...65.years.and.over,
Percent..HOUSING.OCCUPANCY...Total.housing.units...Occupied.housing.units,
Percent..LANGUAGE.SPOKEN.AT.HOME...Population.5.years.and.over...Asian.and.Pacific.Islander.languages...Speak.English.less.than..very.well.,
Percent..LANGUAGE.SPOKEN.AT.HOME...Population.5.years.and.over...Other.Indo.European.languages,
Percent..PLACE.OF.BIRTH...Total.population...Foreign.born,
Percent..PLACE.OF.BIRTH...Total.population...Native,
Percent..RACE...One.race...Asian...Chinese,
Percent..RESIDENCE.1.YEAR.AGO...Population.1.year.and.over...Different.house.in.the.U.S....Different.county...Different.state,
Percent..SELECTED.MONTHLY.OWNER.COSTS.AS.A.PERCENTAGE.OF.HOUSEHOLD.INCOME..SMOCAPI....Housing.units.with.a.mortgage..excluding.units.where.SMOCAPI.cannot.be.computed....Less.than.20.0.percent)
fit = rf %>% select (Percent..GROSS.RENT...Occupied.units.paying.rent....1.500.to..1.999,
Percent..GROSS.RENT...Occupied.units.paying.rent....3.000.or.more,
Percent..GROSS.RENT.AS.A.PERCENTAGE.OF.HOUSEHOLD.INCOME..GRAPI....Occupied.units.paying.rent..excluding.units.where.GRAPI.cannot.be.computed....Less.than.15.0.percent,
Percent..HISPANIC.OR.LATINO.AND.RACE...Total.population...Not.Hispanic.or.Latino...Asian.alone,
Percent..HOUSEHOLDS.BY.TYPE...Total.households...Family.households..families....Male.householder..no.wife.present..family,
Percent..HOUSEHOLDS.BY.TYPE...Total.households...Nonfamily.households...Householder.living.alone...65.years.and.over,
Percent..HOUSING.OCCUPANCY...Total.housing.units...Occupied.housing.units,
Percent..LANGUAGE.SPOKEN.AT.HOME...Population.5.years.and.over...Asian.and.Pacific.Islander.languages...Speak.English.less.than..very.well.,
Percent..LANGUAGE.SPOKEN.AT.HOME...Population.5.years.and.over...Other.Indo.European.languages,
Percent..PLACE.OF.BIRTH...Total.population...Foreign.born,
Percent..PLACE.OF.BIRTH...Total.population...Native,
Percent..RACE...One.race...Asian...Chinese,
Percent..RESIDENCE.1.YEAR.AGO...Population.1.year.and.over...Different.house.in.the.U.S....Different.county...Different.state,
Percent..SELECTED.MONTHLY.OWNER.COSTS.AS.A.PERCENTAGE.OF.HOUSEHOLD.INCOME..SMOCAPI....Housing.units.with.a.mortgage..excluding.units.where.SMOCAPI.cannot.be.computed....Less.than.20.0.percent)
head(rf)
fit = rf %>% select (Percent..GROSS.RENT...Occupied.units.paying.rent....1.500.to..1.999,
Percent..GROSS.RENT...Occupied.units.paying.rent....3.000.or.more,
Percent..GROSS.RENT.AS.A.PERCENTAGE.OF.HOUSEHOLD.INCOME..GRAPI....Occupied.units.paying.rent..excluding.units.where.GRAPI.cannot.be.computed....Less.than.15.0.percent,
Percent..HISPANIC.OR.LATINO.AND.RACE...Total.population...Not.Hispanic.or.Latino...Asian.alone,
Percent..HOUSEHOLDS.BY.TYPE...Total.households...Family.households..families....Male.householder..no.wife.present..family,
Percent..HOUSEHOLDS.BY.TYPE...Total.households...Nonfamily.households...Householder.living.alone...65.years.and.over,
Percent..HOUSING.OCCUPANCY...Total.housing.units...Occupied.housing.units,
Percent..LANGUAGE.SPOKEN.AT.HOME...Population.5.years.and.over...Asian.and.Pacific.Islander.languages...Speak.English.less.than..very.well.,
Percent..LANGUAGE.SPOKEN.AT.HOME...Population.5.years.and.over...Other.Indo.European.languages,
Percent..PLACE.OF.BIRTH...Total.population...Foreign.born,
Percent..PLACE.OF.BIRTH...Total.population...Native,
Percent..RACE...One.race...Asian...Chinese,
Percent..RESIDENCE.1.YEAR.AGO...Population.1.year.and.over...Different.house.in.the.U.S....Different.county...Different.state,
Percent..SELECTED.MONTHLY.OWNER.COSTS.AS.A.PERCENTAGE.OF.HOUSEHOLD.INCOME..SMOCAPI....Housing.units.with.a.mortgage..excluding.units.where.SMOCAPI.cannot.be.computed....Less.than.20.0.percent)
fit = rf %>% select (Percent..GROSS.RENT...Occupied.units.paying.rent....1.500.to..1.999,
Percent..GROSS.RENT...Occupied.units.paying.rent....3.000.or.more,
Percent..GROSS.RENT.AS.A.PERCENTAGE.OF.HOUSEHOLD.INCOME..GRAPI....Occupied.units.paying.rent..excluding.units.where.GRAPI.cannot.be.computed....Less.than.15.0.percent,
Percent..HISPANIC.OR.LATINO.AND.RACE...Total.population...Not.Hispanic.or.Latino...Asian.alone,
Percent..HOUSEHOLDS.BY.TYPE...Total.households...Family.households..families....Male.householder..no.wife.present..family,
Percent..HOUSEHOLDS.BY.TYPE...Total.households...Nonfamily.households...Householder.living.alone...65.years.and.over,
Percent..HOUSING.OCCUPANCY...Total.housing.units...Occupied.housing.units,
Percent..LANGUAGE.SPOKEN.AT.HOME...Population.5.years.and.over...Asian.and.Pacific.Islander.languages...Speak.English.less.than..very.well.,
Percent..LANGUAGE.SPOKEN.AT.HOME...Population.5.years.and.over...Other.Indo.European.languages,
Percent..PLACE.OF.BIRTH...Total.population...Foreign.born,
Percent..PLACE.OF.BIRTH...Total.population...Native,
Percent..RACE...One.race...Asian...Chinese,
Percent..RESIDENCE.1.YEAR.AGO...Population.1.year.and.over...Different.house.in.the.U.S....Different.county...Different.state,
Percent..SELECTED.MONTHLY.OWNER.COSTS.AS.A.PERCENTAGE.OF.HOUSEHOLD.INCOME..SMOCAPI....Housing.units.with.a.mortgage..excluding.units.where.SMOCAPI.cannot.be.computed....Less.than.20.0.percent)
rf %>% select (Percent..GROSS.RENT...Occupied.units.paying.rent....1.500.to..1.999,
Percent..GROSS.RENT...Occupied.units.paying.rent....3.000.or.more,
Percent..GROSS.RENT.AS.A.PERCENTAGE.OF.HOUSEHOLD.INCOME..GRAPI....Occupied.units.paying.rent..excluding.units.where.GRAPI.cannot.be.computed....Less.than.15.0.percent,
Percent..HISPANIC.OR.LATINO.AND.RACE...Total.population...Not.Hispanic.or.Latino...Asian.alone,
Percent..HOUSEHOLDS.BY.TYPE...Total.households...Family.households..families....Male.householder..no.wife.present..family,
Percent..HOUSEHOLDS.BY.TYPE...Total.households...Nonfamily.households...Householder.living.alone...65.years.and.over,
Percent..HOUSING.OCCUPANCY...Total.housing.units...Occupied.housing.units,
Percent..LANGUAGE.SPOKEN.AT.HOME...Population.5.years.and.over...Asian.and.Pacific.Islander.languages...Speak.English.less.than..very.well.,
Percent..LANGUAGE.SPOKEN.AT.HOME...Population.5.years.and.over...Other.Indo.European.languages,
Percent..PLACE.OF.BIRTH...Total.population...Foreign.born,
Percent..PLACE.OF.BIRTH...Total.population...Native,
Percent..RACE...One.race...Asian...Chinese,
Percent..RESIDENCE.1.YEAR.AGO...Population.1.year.and.over...Different.house.in.the.U.S....Different.county...Different.state,
Percent..SELECTED.MONTHLY.OWNER.COSTS.AS.A.PERCENTAGE.OF.HOUSEHOLD.INCOME..SMOCAPI....Housing.units.with.a.mortgage..excluding.units.where.SMOCAPI.cannot.be.computed....Less.than.20.0.percent)
merge = rf %>% select(Percent..GROSS.RENT...Occupied.units.paying.rent....1.500.to..1.999,
Percent..GROSS.RENT...Occupied.units.paying.rent....3.000.or.more,
Percent..GROSS.RENT.AS.A.PERCENTAGE.OF.HOUSEHOLD.INCOME..GRAPI....Occupied.units.paying.rent..excluding.units.where.GRAPI.cannot.be.computed....Less.than.15.0.percent,
Percent..HISPANIC.OR.LATINO.AND.RACE...Total.population...Not.Hispanic.or.Latino...Asian.alone,
Percent..HOUSEHOLDS.BY.TYPE...Total.households...Family.households..families....Male.householder..no.wife.present..family,
Percent..HOUSEHOLDS.BY.TYPE...Total.households...Nonfamily.households...Householder.living.alone...65.years.and.over,
Percent..HOUSING.OCCUPANCY...Total.housing.units...Occupied.housing.units,
Percent..LANGUAGE.SPOKEN.AT.HOME...Population.5.years.and.over...Asian.and.Pacific.Islander.languages...Speak.English.less.than..very.well.,
Percent..LANGUAGE.SPOKEN.AT.HOME...Population.5.years.and.over...Other.Indo.European.languages,
Percent..PLACE.OF.BIRTH...Total.population...Foreign.born,
Percent..PLACE.OF.BIRTH...Total.population...Native,
Percent..RACE...One.race...Asian...Chinese,
Percent..RESIDENCE.1.YEAR.AGO...Population.1.year.and.over...Different.house.in.the.U.S....Different.county...Different.state,
Percent..SELECTED.MONTHLY.OWNER.COSTS.AS.A.PERCENTAGE.OF.HOUSEHOLD.INCOME..SMOCAPI....Housing.units.with.a.mortgage..excluding.units.where.SMOCAPI.cannot.be.computed....Less.than.20.0.percent)
merge = rf %>% select(Percent..GROSS.RENT...Occupied.units.paying.rent....1.500.to..1.999, Percent..GROSS.RENT...Occupied.units.paying.rent....3.000.or.more, Percent..GROSS.RENT.AS.A.PERCENTAGE.OF.HOUSEHOLD.INCOME..GRAPI....Occupied.units.paying.rent..excluding.units.where.GRAPI.cannot.be.computed....Less.than.15.0.percent, Percent..HISPANIC.OR.LATINO.AND.RACE...Total.population...Not.Hispanic.or.Latino...Asian.alone, Percent..HOUSEHOLDS.BY.TYPE...Total.households...Family.households..families....Male.householder..no.wife.present..family, Percent..HOUSEHOLDS.BY.TYPE...Total.households...Nonfamily.households...Householder.living.alone...65.years.and.over, Percent..HOUSING.OCCUPANCY...Total.housing.units...Occupied.housing.units, Percent..LANGUAGE.SPOKEN.AT.HOME...Population.5.years.and.over...Asian.and.Pacific.Islander.languages...Speak.English.less.than..very.well., Percent..LANGUAGE.SPOKEN.AT.HOME...Population.5.years.and.over...Other.Indo.European.languages, Percent..PLACE.OF.BIRTH...Total.population...Foreign.born, Percent..PLACE.OF.BIRTH...Total.population...Native, Percent..RACE...One.race...Asian...Chinese, Percent..RESIDENCE.1.YEAR.AGO...Population.1.year.and.over...Different.house.in.the.U.S....Different.county...Different.state, Percent..SELECTED.MONTHLY.OWNER.COSTS.AS.A.PERCENTAGE.OF.HOUSEHOLD.INCOME..SMOCAPI....Housing.units.with.a.mortgage..excluding.units.where.SMOCAPI.cannot.be.computed....Less.than.20.0.percent)
